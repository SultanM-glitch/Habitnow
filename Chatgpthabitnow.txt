<!DOCTYPE html><html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Habit Tracker Pro</title>
<style>
:root{
  --bg:#0b0e1a;--card:#171a2e;--accent:#7c7cff;--ok:#4ade80;--text:#e5e7eb;--muted:#9ca3af;--danger:#ef4444;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui;background:linear-gradient(180deg,#090c17,#0b0e1a);color:var(--text)}
header{padding:14px 16px;position:sticky;top:0;background:#0b0e1ae6;backdrop-filter:blur(6px);display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #1f2340}
header h1{margin:0;font-size:18px}
header button{background:var(--accent);border:none;border-radius:10px;padding:8px 12px;color:#fff;font-weight:600}
main{padding:16px 16px 90px}
.stats{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;margin-bottom:14px}
.stat{background:var(--card);border-radius:14px;padding:10px;text-align:center}
.stat .n{font-size:18px;font-weight:700}
.stat .l{font-size:11px;color:var(--muted)}
.habit{background:var(--card);border-radius:16px;padding:14px;margin-bottom:12px;display:flex;gap:12px;align-items:center}
.check{width:28px;height:28px;border-radius:50%;border:2px solid #3b3f7a;display:grid;place-items:center}
.check.done{background:var(--ok);border-color:var(--ok)}
.check.done::after{content:'âœ“';color:#052e16;font-weight:900}
.info{flex:1}
.title{font-weight:700}
.meta{font-size:12px;color:var(--muted)}
.streak{font-size:12px;color:#a5b4fc}
.actions{display:flex;gap:6px}
.actions button{border:none;border-radius:10px;padding:6px 8px;background:#232760;color:#fff}
.del{background:#3b1d2a}
.fab{position:fixed;right:18px;bottom:18px;width:56px;height:56px;border-radius:50%;background:var(--accent);border:none;color:#fff;font-size:26px;font-weight:700}
footer{position:fixed;bottom:0;left:0;right:0;display:grid;grid-template-columns:repeat(4,1fr);background:#0b0e1a;border-top:1px solid #1f2340}
footer button{background:transparent;border:none;color:var(--muted);padding:12px}
footer button.active{color:#fff;background:#14174a}
.overlay{position:fixed;inset:0;background:#0008;display:none}
.modal{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);background:var(--card);width:92%;max-width:420px;border-radius:18px;padding:16px;display:none}
.modal h2{margin:6px 0 10px}
.modal input,.modal select{width:100%;padding:12px;margin-bottom:10px;border-radius:12px;border:1px solid #24286b;background:#0f1233;color:var(--text)}
.row{display:grid;grid-template-columns:1fr 1fr;gap:8px}
.modal button{width:100%;padding:12px;border:none;border-radius:12px;font-weight:700}
.save{background:var(--accent)}
.cancel{background:#2a2f6b;margin-top:6px}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:6px}
.day{background:#14174a;border-radius:8px;padding:8px;text-align:center;font-size:12px}
.day.done{background:var(--ok);color:#052e16}
</style>
</head>
<body>
<header><h1>Habit Tracker Pro</h1><button onclick="openModal()">Add</button></header>
<main id="home">
<div class="stats">
<div class="stat"><div class="n" id="sToday">0</div><div class="l">Today</div></div>
<div class="stat"><div class="n" id="sRate">0%</div><div class="l">Rate</div></div>
<div class="stat"><div class="n" id="sBest">0</div><div class="l">Best</div></div>
<div class="stat"><div class="n" id="sTotal">0</div><div class="l">Habits</div></div>
</div>
<div id="habitList"></div>
</main>
<main id="calendar" style="display:none"><div class="calendar" id="cal"></div></main>
<main id="stats" style="display:none"><div class="habit"><div class="info">Advanced stats coming next update.</div></div></main>
<main id="settings" style="display:none"><div class="habit"><div class="info">Export / Import, PIN, theme in next updates.</div></div></main>
<button class="fab" onclick="openModal()">+</button>
<div class="overlay" id="overlay" onclick="closeModal()"></div>
<div class="modal" id="modal">
<h2>Habit</h2>
<input id="hName" placeholder="Habit name" />
<div class="row">
<select id="hFreq"><option value="daily">Daily</option><option value="weekly">Weekly</option></select>
<input id="hGoal" type="number" value="1" />
</div>
<button class="save" onclick="saveHabit()">Save</button>
<button class="cancel" onclick="closeModal()">Cancel</button>
</div>
<footer>
<button class="active" onclick="nav('home',this)">Home</button>
<button onclick="nav('calendar',this)">Calendar</button>
<button onclick="nav('stats',this)">Stats</button>
<button onclick="nav('settings',this)">Settings</button>
</footer>
<script>
const KEY='habits_pro_v2';
let habits=JSON.parse(localStorage.getItem(KEY)||'[]');
const today=()=>new Date().toISOString().slice(0,10);
function save(){localStorage.setItem(KEY,JSON.stringify(habits));render();}
function openModal(){overlay.style.display=modal.style.display='block'}
function closeModal(){overlay.style.display=modal.style.display='none'}
function saveHabit(){if(!hName.value.trim())return;habits.push({id:Date.now(),name:hName.value,goal:+hGoal.value,freq:hFreq.value,done:{},best:0});hName.value='';closeModal();save();}
function toggle(id){const h=habits.find(x=>x.id===id);const t=today();h.done[t]=!h.done[t];calcStreak(h);save();}
function calcStreak(h){let s=0,b=0;const days=Object.keys(h.done).sort();days.forEach(d=>{if(h.done[d]){s++;b=Math.max(b,s)}else s=0});h.best=b}
function del(id){habits=habits.filter(h=>h.id!==id);save();}
function render(){habitList.innerHTML='';let done=0,all=habits.length*1;habits.forEach(h=>{if(h.done[today()])done++;const d=document.createElement('div');d.className='habit';d.innerHTML=`<div class="check ${h.done[today()]?'done':''}" onclick="toggle(${h.id})"></div><div class="info"><div class="title">${h.name}</div><div class="meta">${h.freq} â€¢ goal ${h.goal}</div><div class="streak">ðŸ”¥ Best ${h.best}</div></div><div class="actions"><button class="del" onclick="del(${h.id})">âœ•</button></div>`;habitList.appendChild(d)});
sToday.textContent=done;sRate.textContent=all?Math.round(done/all*100)+'%':'0%';sBest.textContent=Math.max(0,...habits.map(h=>h.best));sTotal.textContent=habits.length;renderCalendar();}
function renderCalendar(){cal.innerHTML='';for(let i=0;i<30;i++){const d=new Date();d.setDate(d.getDate()-i);const k=d.toISOString().slice(0,10);const el=document.createElement('div');el.className='day';if(habits.some(h=>h.done[k]))el.classList.add('done');el.textContent=d.getDate();cal.appendChild(el)}}
function nav(id,b){document.querySelectorAll('main').forEach(m=>m.style.display='none');document.getElementById(id).style.display='block';document.querySelectorAll('footer button').forEach(x=>x.classList.remove('active'));b.classList.add('active')}
render();
</script>
</body>
</html>